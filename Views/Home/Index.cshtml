@model ProductViewModel

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <div class="row">
        <div class="col col-2">
            <nav class="category">
                <h3 class="category__heading">
                    <i class="category__heading-icon fa-solid fa-list"></i>
                    Danh mục
                </h3>

                <ul class="category-list">
                    @foreach(var category in Model.Categories) {
                        <li class="category-item category-item--active">
                        <a href="/Home/Index?categoryId=@category.PK_iCategoryID" class="category-item__link">@category.sCategoryName</a>
                    </li>
                    }
                </ul>
            </nav>
        </div>
        <div class="col col-10">
            <div class="home-filter hide-on-mobile-table">
                <div class="select-input">
                    <span class="select-input__label">
                        Giá
                    </span>
                    <i class="select-input-icon fa-solid fa-chevron-down"></i>

                    <!--List options-->
                    <ul class="select-input__list">
                        <li class="select-input__item">
                            <a href="#" class="select-input__link">Giá: Thấp đến cao</a>
                        </li>
                        <li class="select-input__item">
                            <a href="#" class="select-input__link">Giá: Cao đến thấp</a>
                        </li>
                    </ul>
                </div>
                <div class="home-filter__page">
                    <span class="home-filter__page-num">
                        @if (Model.CurrentPage > 1) {
                            <span class="home-filter__page-current">@Model.CurrentPage</span>
                        } else {
                            <span class="home-filter__page-current">1</span>
                        }
                        /
                        @Model.TotalPage
                    </span>
                    <div class="home-filter__page-control">
                        @if (Model.CurrentPage > 1) {
                            <a href="/Home/Index?currentPage=@(Model.CurrentPage - 1)" class="home-filter__page-btn home-filter__page-btn--disabled "><i
                                class=" home-filter__page-icon fas fa-angle-left"></i></a>
                        }
                        @if (Model.CurrentPage < Model.TotalPage) {
                            <a href="/Home/Index?currentPage=@(Model.CurrentPage + 1)" class="home-filter__page-btn"><i
                                class="home-filter__page-icon fas fa-angle-right"></i></a>
                        }
                    </div>
                </div>
            </div>
            <div class="row">
                @foreach (var product in Model.Products)
                {
                    <div class="col col-3">
                        <div class="card" style="width: 18rem;">
                            <img src="~/img/@product.sImageUrl" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">@product.sProductName</h5>
                                <h4 class="card-title">Giá:@product.dPrice VNĐ</h4>
                                @* <a href="javascript:addToCart(@product.PK_iProductID)" class="btn btn-primary">Thêm vào giỏ
                                    hàng</a> *@
                                <a href="/Product/Detail/@product.PK_iProductID" class="btn btn-primary">Chi tiết</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    <ul class="pagination">
        @if (Model.CurrentPage > 1) {
            <li class="page-item">
                <a class="page-link" href="/Home/Index?currentPage=@(Model.CurrentPage - 1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
        }
        @for (int i = 1; i <= Model.TotalPage; i++) {
            if (i == Model.CurrentPage) {
                <li class="page-item active"><a class="page-link" href="/Home/Index?currentPage=@i">@i</a></li>
            } else {
                <li class="page-item"><a class="page-link" href="/Home/Index?currentPage=@i">@i</a></li>
            }
        }
        @if (Model.CurrentPage < Model.TotalPage) {
            <li class="page-item">
                <a class="page-link" href="/Home/Index?currentPage=@(Model.CurrentPage + 1)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        }
    </ul>
</div>
